---
title: "Pairs: AI"
date: 2099-12-31 00
categories:
  - development
tags:
  - CS
  - 개발
  - 보드게임
---

Pairs는 1 한장, 2 두장, ..., 10 열장, 총 55장의 카드로 이루어진 작은 게임입니다. 여러 가지 변종으로 플레이할 수 있지만, 가장 중요한 것은 "같은 카드 두 장(pair)을 받으면 안된다"는 거죠.

이 글에서는 (Generalized) Solitaire Pairs에 대한 Online Algorithm을 제시합니다. 이 글은 업데이트되며 몇가지 알고리즘을 제시할 예정입니다.

# (Generalized) Solitaire Pairs

Generalized Solitaire Pairs는 1 한장, 2 두장... N N장, 총 $\frac{N(N+1)}{2}$장의 카드로 이루어진 덱으로 시작합니다.

게임이 시작할 때, 한 장의 카드를 뽑아 손패에 추가합니다. Online Algorithm은 다음 중 하나를 결정합니다:

- Draw를 선택한다면, 카드를 한 장 뽑아 손패에 추가합니다. 이 때, 손패에 같은 카드가 있었다면 중복된 수 만큼의 점수를 얻고, 손패를 모두 버린 후 새로 한 장을 뽑습니다.
- Fold를 선택한다면, 손패에서 가장 작은 수 만큼의 점수를 얻고, 손패를 모두 버린 후 새로 한 장을 뽑습니다.

덱이 모두 떨어졌다면, 마지막으로 Fold를 한 후 게임이 종료됩니다. 게임이 종료되었을 때, 점수가 낮을수록 좋습니다.

덱을 미리 볼 수 있는 Offline Algorithm의 경우, Draw했을 때 점수를 얻게 된다면, 이 수가 현재 손패의 가장 낮은 수가 아니라면 Fold하는, Greedy approach가 최적의 해를 찾을 수 있음이 자명합니다. 

# Online Algorithms

아래에는 온라인 알고리즘을 제시하고, 각각을 테스트합니다. 테스트 기준은 다음과 같습니다:

- 카드 수: 10장, 25장, 100장
- 측정 횟수: 10,000회
- 통계 수치
  - 시간
  - 카드당 걸린 시간
  - 평균 점수
  - 점수의 표준편차

## Average

Draw했을 때의 점수의 기대값이 Fold했을때의 점수보다 낮을 경우만 Draw합니다.

